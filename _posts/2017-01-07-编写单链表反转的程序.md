---
layout: post
title:  "编写单链表反转的程序"
date:   2017/01/07 20:39:26
categories:
comments: true
---

首先，我们定义一个链表。

```c
struct list {
    int value;
    struct list * next;
};
```

C 语言也要面向对象编程，于是，编写构造函数。

```c
struct list * makeList(int value, struct list * next){
    struct list * this = (struct list*)malloc(sizeof(struct list));
    this->value = value;
    this->next = next;
}
```

编写反转程序。

```c
struct list * reverse(struct list * L) {
    struct list * result = NULL;
    for(struct list * i = L; i != NULL; i = i->next){
        result = makeList(i->value, result);
    }
    return result;
}
```

OK，让我们测试一下。

```c
void printList(struct list * L)
{
    printf("(");
    int n = 0;
    for(struct list * i = L; i != NULL; i = i->next, ++n){
        if(n != 0){  printf(","); };
        printf("%d", i->value);
    }
    printf(")");
    return;
}
int main(int argc, char *argv[])
{
    struct list * a = makeList(1, NULL);
    a = makeList(2, a);
    a = makeList(3, a);
    printf("before reverse:");
    printList(a);
    printf("\nafter reverse:");
    printList(reverse(a));
    printf("\n");

    printf("before reverse:");
    printList(NULL);
    printf("\nafter reverse:");
    printList(reverse(NULL));
    printf("\n");
    return 0;
}
```

程序输出

```
before reverse:(3,2,1)
after reverse:(1,2,3)
before reverse:()
after reverse:()
```
